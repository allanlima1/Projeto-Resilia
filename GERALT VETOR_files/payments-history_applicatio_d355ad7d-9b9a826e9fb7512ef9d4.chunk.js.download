(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(r(5)),a=f(r(83)),n=r(38),o=r(199),s=r(401),l=r(47),c=r(48),u=r(1);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return g(this,r)}}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(h,e);var t,r,i,f=v(h);function h(){var e;y(this,h);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return S(E(e=f.call.apply(f,[this].concat(r))),"triggerCaptchaAndValidateFields",(function(t){if(t.preventDefault(),e.showSpinner(),(0,u.shouldBypassCaptcha)())e.validateFields();else{window.handleRecaptchaResponse=e.handleRecaptchaResponse;var r=e.element.querySelector(".recaptcha-holder").dataset.recaptchaId;window.grecaptcha.reset(r),window.grecaptcha.execute(r)}})),S(E(e),"handleRecaptchaResponse",(function(){e.validateFields(),window.handleRecaptchaResponse=null})),e}return t=h,(r=[{key:"connect",value:function(){this.formValid=!1;var e=p(this.element.querySelectorAll(".ez-input.ez-input--animated-label"));e.length&&(0,s.ezInitAnimatedLabels)(e),this.element.querySelectorAll(".ez-input__field--password").length&&(0,o.ezInitPasswordFields)()}},{key:"submit",value:function(){(0,u.shouldBypassCaptcha)()&&this.bypassRecaptcha(),"true"===this.element.getAttribute("data-remote")?a.default.fire(this.element,"submit"):this.element.submit()}},{key:"bypassRecaptcha",value:function(){var e=document.querySelector("input#bypass_captcha");e&&(e.value=!0)}},{key:"validateFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[required="required"]';(0,u.shouldBypassCaptcha)()||this.resetFormErrors(),this.checkFields(e),this.formValid||this.hideSpinner()}},{key:"resetFormErrors",value:function(){(0,n.ezClearFormErrors)(this.element)}},{key:"checkFields",value:function(e){var t=this;this.formValid=!0,p(this.element.querySelectorAll(e)).forEach((function(e){"text"===e.getAttribute("type")&&(e.value=e.value.trim()),t.checkForEmptyField(e),t.checkForSpecialChars(e),t.checkEmailFields(e)}));var r=this.element.querySelector("#user_password"),i=this.element.querySelector("#user_password_confirmation");r&&i?this.checkPasswordFields(r,i):r&&this.checkPasswordField(r)}},{key:"checkForEmptyField",value:function(e){var t=e.getAttribute("id"),r="";(0,l.parseErrorMsg)(e,"field_empty_error")&&(r=(0,l.parseErrorMsg)(e,"field_empty_error")),"user_accept_terms"===t&&(r=(0,l.parseErrorMsg)(e,"checkbox_error")),this.displayErrorIfEmpty(t,r)}},{key:"checkForSpecialChars",value:function(e){(0,l.parseErrorMsg)(e,"special_characters")&&this.displayErrorIfSpecialChars(e)}},{key:"checkEmailFields",value:function(e){"email"===e.getAttribute("type")&&this.displayErrorIfEmailInvalid(e)}},{key:"checkPasswordField",value:function(e){e&&e.checkValidity()&&this.displayErrorIfPasswordTooShort(e)&&((0,n.ezErrorDisplay)(e),(0,n.ezErrorDisplay)(e,(0,l.parseErrorMsg)(e,"password_length")),this.formValid=!1)}},{key:"checkPasswordFields",value:function(e,t){(e&&e.checkValidity()||t&&t.checkValidity())&&!this.displayErrorIfFieldMismatch(e,t,"password_mismatch")&&this.displayErrorIfPasswordTooShort(e)&&((0,n.ezErrorDisplay)(e),(0,n.ezErrorDisplay)(t,(0,l.parseErrorMsg)(t,"password_length")),this.formValid=!1)}},{key:"displayFormError",value:function(e,t){this.formSubmitBtnTarget.classList.contains("has-spinner")&&this.hideSpinner(),(0,n.ezErrorDisplay)(e,t),this.formValid=!1}},{key:"displayErrorIfEmpty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.element.querySelector("#".concat(e));null===r||r.checkValidity()||((0,n.ezErrorDisplay)(r,t),this.formValid=!1)}},{key:"displayErrorIfPasswordTooShort",value:function(e){var t=e.value.length;return t>=0&&t<6}},{key:"displayErrorIfFieldMismatch",value:function(e,t,r){return e.value!==t.value&&((0,n.ezErrorDisplay)(e),(0,n.ezErrorDisplay)(t,(0,l.parseErrorMsg)(t,r)),this.formValid=!1,!0)}},{key:"displayErrorIfEmailInvalid",value:function(e){(e&&e.value&&!(0,l.emailValidation)(e.value)||!e.value)&&((0,n.ezErrorDisplay)(e,(0,l.parseErrorMsg)(e,"invalid_email")),this.formValid=!1)}},{key:"displayErrorIfSpecialChars",value:function(e){this.hasInvalidChars(e.value)&&((0,n.ezErrorDisplay)(e,(0,l.parseErrorMsg)(e,"special_characters")),this.formValid=!1)}},{key:"hasInvalidChars",value:function(e){return e.match(/[^a-zA-Z0-9 ]/g)}},{key:"showSpinner",value:function(){this.hasFormSubmitBtnTarget&&!this.formSubmitBtnTarget.classList.contains("has-spinner")&&(this.disableWithAttr=this.formSubmitBtnTarget.getAttribute("data-disable-with"),this.formSubmitBtnTarget.removeAttribute("data-disable-with"),(0,c.ezLoadingBtnOn)(this.formSubmitBtnTarget))}},{key:"hideSpinner",value:function(){this.hasFormSubmitBtnTarget&&this.formSubmitBtnTarget.classList.contains("has-spinner")&&((0,c.ezLoadingBtnOff)(this.formSubmitBtnTarget),this.formSubmitBtnTarget.setAttribute("data-disable-with",this.disableWithAttr))}}])&&m(t.prototype,r),i&&m(t,i),h}(i.default);t.default=k,S(k,"targets",["formSubmitBtn"])}}]);
//# sourceMappingURL=payments-history~applicatio~d355ad7d-9b9a826e9fb7512ef9d4.chunk.js.map